(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[784],{1471:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>B});var l=a(5155),r=a(2115),t=a(1886),i=a(4503),n=a(3999),d=a(7737),c=a(9852),o=a(7168),x=a(2355),m=a(3052),h=a(9802);function u(e){let{className:s,classNames:a,showOutsideDays:r=!0,...t}=e;return(0,l.jsx)(h.hv,{showOutsideDays:r,className:(0,n.cn)("p-3",s),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,n.cn)((0,o.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,n.cn)((0,o.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...s}=e;return(0,l.jsx)(x.A,{className:"h-4 w-4"})},IconRight:e=>{let{...s}=e;return(0,l.jsx)(m.A,{className:"h-4 w-4"})}},...t})}u.displayName="Calendar";var f=a(547);let j=f.bL,p=f.l9,g=r.forwardRef((e,s)=>{let{className:a,align:r="center",sideOffset:t=4,...i}=e;return(0,l.jsx)(f.ZL,{children:(0,l.jsx)(f.UC,{ref:s,align:r,sideOffset:t,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});g.displayName=f.UC.displayName;var v=a(5784),N=a(8524),w=a(8482),b=a(3904),y=a(2657),A=a(1788),C=a(1284),F=a(7924),S=a(9074),k=a(1492),T=a(8145),P=a(3008),D=a(9026),E=a(4964),I=a(9613);let _=I.Kq,U=I.bL,R=I.l9,L=r.forwardRef((e,s)=>{let{className:a,sideOffset:r=4,...t}=e;return(0,l.jsx)(I.UC,{ref:s,sideOffset:r,className:(0,n.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...t})});function B(){let{toast:e}=(0,i.dj)(),[s,a]=(0,r.useState)([]),[x,m]=(0,r.useState)([]),[h,f]=(0,r.useState)([]),[I,B]=(0,r.useState)(!0),[V,$]=(0,r.useState)(""),[X,q]=(0,r.useState)("all"),[z,O]=(0,r.useState)("all"),[Z,H]=(0,r.useState)(void 0),[G,W]=(0,r.useState)(void 0),[M,Y]=(0,r.useState)("accessTime"),[K,J]=(0,r.useState)("desc"),[Q,ee]=(0,r.useState)(null),[es,ea]=(0,r.useState)("all"),[el,er]=(0,r.useState)(0),[et,ei]=(0,r.useState)(0),[en,ed]=(0,r.useState)(0);(0,r.useEffect)(()=>{(async function(){B(!0),ee(null);try{let e=await (0,t.ag)();f(e.links||[]);let s={};Z&&(s.startDate=Z.toISOString()),G&&(s.endDate=G.toISOString());let l=(await (0,t.ar)(s)).logs||[];a(l),m(l),er(l.filter(e=>"view"===e.action).length),ei(l.filter(e=>"download"===e.action).length),ed(new Set(l.map(e=>e.ipAddress)).size)}catch(s){console.error("Error loading access logs:",s),ee(s.message||"Failed to load access logs"),e({variant:"destructive",title:"Error loading access logs",description:"There was a problem loading your access logs."})}finally{B(!1)}})()},[e]),(0,r.useEffect)(()=>{let e=s;if("all"!==X&&(e=e.filter(e=>e.action===X)),"all"!==z&&(e=e.filter(e=>e.linkId===z)),Z&&(e=e.filter(e=>new Date(e.accessTime)>=Z)),G){let s=new Date(G);s.setDate(s.getDate()+1),e=e.filter(e=>new Date(e.accessTime)<s)}if(""!==V.trim()){let s=V.toLowerCase();e=e.filter(e=>{var a;return e.ipAddress.toLowerCase().includes(s)||(null===(a=e.fileName)||void 0===a?void 0:a.toLowerCase().includes(s))||e.userAgent.toLowerCase().includes(s)})}"views"===es?e=e.filter(e=>"view"===e.action):"downloads"===es&&(e=e.filter(e=>"download"===e.action)),m(e=[...e].sort((e,s)=>"accessTime"===M?"asc"===K?new Date(e.accessTime).getTime()-new Date(s.accessTime).getTime():new Date(s.accessTime).getTime()-new Date(e.accessTime).getTime():e[M]<s[M]?"asc"===K?-1:1:e[M]>s[M]?"asc"===K?1:-1:0))},[s,V,X,z,Z,G,M,K,es]);let ec=e=>{M===e?J("asc"===K?"desc":"asc"):(Y(e),J("asc"))},eo=async()=>{B(!0),ee(null);try{let s={};Z&&(s.startDate=Z.toISOString()),G&&(s.endDate=G.toISOString());let l=(await (0,t.ar)(s)).logs.map(e=>{let s=h.find(s=>s.linkId===e.linkId);return{...e,fileName:(null==s?void 0:s.fileName)||"Unknown File"}});a(l),er(l.filter(e=>"view"===e.action).length),ei(l.filter(e=>"download"===e.action).length),ed(new Set(l.map(e=>e.ipAddress)).size),e({title:"Logs refreshed",description:"Access logs have been refreshed successfully."})}catch(s){console.error("Error refreshing access logs:",s),ee(s.message||"Failed to refresh access logs"),e({variant:"destructive",title:"Error refreshing logs",description:"There was a problem refreshing your access logs."})}finally{B(!1)}},ex=()=>{$(""),q("all"),O("all"),H(void 0),W(void 0),ea("all")},em=e=>{let s="Unknown",a="Unknown";return s=e.includes("Mobile")||e.includes("Android")||e.includes("iPhone")?"Mobile":e.includes("Tablet")||e.includes("iPad")?"Tablet":"Desktop",e.includes("Chrome")?a="Chrome":e.includes("Firefox")?a="Firefox":e.includes("Safari")?a="Safari":e.includes("Edge")&&(a="Edge"),"".concat(s," / ").concat(a)};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Access Logs"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Monitor who accessed your shared files"})]}),(0,l.jsxs)(o.$,{onClick:eo,disabled:I,className:"gap-2",children:[(0,l.jsx)(b.A,{className:"h-4 w-4 ".concat(I?"animate-spin":"")}),"Refresh"]})]}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,l.jsxs)(w.Zp,{children:[(0,l.jsxs)(w.aR,{className:"pb-2",children:[(0,l.jsx)(w.ZB,{children:"Total Views"}),(0,l.jsx)(w.BT,{children:"Number of file views"})]}),(0,l.jsx)(w.Wu,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(y.A,{className:"mr-2 h-4 w-4 text-primary"}),(0,l.jsx)("div",{className:"text-2xl font-bold",children:el})]})})]}),(0,l.jsxs)(w.Zp,{children:[(0,l.jsxs)(w.aR,{className:"pb-2",children:[(0,l.jsx)(w.ZB,{children:"Total Downloads"}),(0,l.jsx)(w.BT,{children:"Number of file downloads"})]}),(0,l.jsx)(w.Wu,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(A.A,{className:"mr-2 h-4 w-4 text-primary"}),(0,l.jsx)("div",{className:"text-2xl font-bold",children:et})]})})]}),(0,l.jsxs)(w.Zp,{children:[(0,l.jsxs)(w.aR,{className:"pb-2",children:[(0,l.jsx)(w.ZB,{children:"Unique Visitors"}),(0,l.jsx)(w.BT,{children:"Based on IP addresses"})]}),(0,l.jsx)(w.Wu,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(C.A,{className:"mr-2 h-4 w-4 text-primary"}),(0,l.jsx)("div",{className:"text-2xl font-bold",children:en})]})})]})]}),(0,l.jsxs)(E.tU,{defaultValue:"all",value:es,onValueChange:ea,className:"space-y-4",children:[(0,l.jsxs)(E.j7,{children:[(0,l.jsx)(E.Xi,{value:"all",children:"All Logs"}),(0,l.jsx)(E.Xi,{value:"views",children:"Views"}),(0,l.jsx)(E.Xi,{value:"downloads",children:"Downloads"})]}),(0,l.jsxs)(E.av,{value:"all",className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)(F.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,l.jsx)(c.p,{type:"search",placeholder:"Search logs...",className:"pl-8",value:V,onChange:e=>$(e.target.value)})]}),(0,l.jsxs)(v.l6,{value:X,onValueChange:q,children:[(0,l.jsx)(v.bq,{className:"w-[180px]",children:(0,l.jsx)(v.yv,{placeholder:"Filter by action"})}),(0,l.jsxs)(v.gC,{children:[(0,l.jsx)(v.eb,{value:"all",children:"All Actions"}),(0,l.jsx)(v.eb,{value:"view",children:"Views"}),(0,l.jsx)(v.eb,{value:"download",children:"Downloads"})]})]}),(0,l.jsxs)(v.l6,{value:z,onValueChange:O,children:[(0,l.jsx)(v.bq,{className:"w-[180px]",children:(0,l.jsx)(v.yv,{placeholder:"Filter by file"})}),(0,l.jsxs)(v.gC,{children:[(0,l.jsx)(v.eb,{value:"all",children:"All Files"}),h.map(e=>(0,l.jsx)(v.eb,{value:e.linkId,children:"Unnamed File"},e.linkId))]})]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,l.jsxs)(j,{children:[(0,l.jsx)(p,{asChild:!0,children:(0,l.jsxs)(o.$,{variant:"outline",className:"gap-2",children:[(0,l.jsx)(S.A,{className:"h-4 w-4"}),Z?(0,P.GP)(Z,"PPP"):"Start Date"]})}),(0,l.jsx)(g,{className:"w-auto p-0",children:(0,l.jsx)(u,{mode:"single",selected:Z,onSelect:H,initialFocus:!0})})]}),(0,l.jsxs)(j,{children:[(0,l.jsx)(p,{asChild:!0,children:(0,l.jsxs)(o.$,{variant:"outline",className:"gap-2",children:[(0,l.jsx)(S.A,{className:"h-4 w-4"}),G?(0,P.GP)(G,"PPP"):"End Date"]})}),(0,l.jsx)(g,{className:"w-auto p-0",children:(0,l.jsx)(u,{mode:"single",selected:G,onSelect:W,initialFocus:!0})})]}),(V||"all"!==X||"all"!==z||Z||G)&&(0,l.jsx)(o.$,{variant:"ghost",onClick:ex,children:"Clear Filters"})]}),Q?(0,l.jsxs)(D.Fc,{variant:"destructive",children:[(0,l.jsx)(D.XL,{children:"Error"}),(0,l.jsx)(D.TN,{children:Q})]}):I?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.E,{className:"h-12 w-full"}),(0,l.jsx)(d.E,{className:"h-12 w-full"}),(0,l.jsx)(d.E,{className:"h-12 w-full"})]}):0===x.length?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed p-8 text-center",children:[(0,l.jsx)(C.A,{className:"h-10 w-10 text-muted-foreground"}),(0,l.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"No logs found"}),(0,l.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"No access logs match your current filters."})]}):(0,l.jsx)("div",{className:"rounded-md border",children:(0,l.jsxs)(N.XI,{children:[(0,l.jsx)(N.A0,{children:(0,l.jsxs)(N.Hj,{children:[(0,l.jsx)(N.nd,{className:"w-[180px]",children:(0,l.jsxs)(o.$,{variant:"ghost",onClick:()=>ec("accessTime"),className:"flex items-center gap-1 px-0 font-medium",children:["Timestamp",(0,l.jsx)(k.A,{className:"h-3 w-3"})]})}),(0,l.jsx)(N.nd,{children:"File"}),(0,l.jsx)(N.nd,{children:"Action"}),(0,l.jsx)(N.nd,{children:"IP Address"}),(0,l.jsx)(N.nd,{className:"hidden md:table-cell",children:"Device Info"})]})}),(0,l.jsx)(N.BF,{children:x.map(e=>(0,l.jsxs)(N.Hj,{children:[(0,l.jsx)(N.nA,{className:"font-medium",children:(0,n.Yq)(e.accessTime)}),(0,l.jsx)(N.nA,{className:"max-w-[200px] truncate",children:(0,l.jsx)(_,{children:(0,l.jsxs)(U,{children:[(0,l.jsx)(R,{asChild:!0,children:(0,l.jsx)("span",{className:"cursor-help",children:e.fileName||"Unknown File"})}),(0,l.jsx)(L,{children:(0,l.jsx)("p",{children:e.fileName||"Unknown File"})})]})})}),(0,l.jsx)(N.nA,{children:(0,l.jsxs)(T.E,{variant:"view"===e.action?"outline":"default",className:"gap-1",children:["view"===e.action?(0,l.jsx)(y.A,{className:"h-3 w-3"}):(0,l.jsx)(A.A,{className:"h-3 w-3"}),"view"===e.action?"Viewed":"Downloaded"]})}),(0,l.jsx)(N.nA,{children:e.ipAddress}),(0,l.jsx)(N.nA,{className:"hidden md:table-cell",children:(0,l.jsx)(_,{children:(0,l.jsxs)(U,{children:[(0,l.jsx)(R,{asChild:!0,children:(0,l.jsx)("span",{className:"cursor-help",children:em(e.userAgent)})}),(0,l.jsx)(L,{className:"max-w-xs",children:(0,l.jsx)("p",{className:"text-xs",children:e.userAgent})})]})})})]},e.logId))})]})})]}),(0,l.jsxs)(E.av,{value:"views",className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)(F.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,l.jsx)(c.p,{type:"search",placeholder:"Search logs...",className:"pl-8",value:V,onChange:e=>$(e.target.value)})]}),(0,l.jsxs)(v.l6,{value:z,onValueChange:O,children:[(0,l.jsx)(v.bq,{className:"w-[180px]",children:(0,l.jsx)(v.yv,{placeholder:"Filter by file"})}),(0,l.jsxs)(v.gC,{children:[(0,l.jsx)(v.eb,{value:"all",children:"All Files"}),h.map(e=>(0,l.jsx)(v.eb,{value:e.linkId,children:"Unnamed File"},e.linkId))]})]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,l.jsxs)(j,{children:[(0,l.jsx)(p,{asChild:!0,children:(0,l.jsxs)(o.$,{variant:"outline",className:"gap-2",children:[(0,l.jsx)(S.A,{className:"h-4 w-4"}),Z?(0,P.GP)(Z,"PPP"):"Start Date"]})}),(0,l.jsx)(g,{className:"w-auto p-0",children:(0,l.jsx)(u,{mode:"single",selected:Z,onSelect:H,initialFocus:!0})})]}),(0,l.jsxs)(j,{children:[(0,l.jsx)(p,{asChild:!0,children:(0,l.jsxs)(o.$,{variant:"outline",className:"gap-2",children:[(0,l.jsx)(S.A,{className:"h-4 w-4"}),G?(0,P.GP)(G,"PPP"):"End Date"]})}),(0,l.jsx)(g,{className:"w-auto p-0",children:(0,l.jsx)(u,{mode:"single",selected:G,onSelect:W,initialFocus:!0})})]}),(V||"all"!==z||Z||G)&&(0,l.jsx)(o.$,{variant:"ghost",onClick:ex,children:"Clear Filters"})]}),Q?(0,l.jsxs)(D.Fc,{variant:"destructive",children:[(0,l.jsx)(D.XL,{children:"Error"}),(0,l.jsx)(D.TN,{children:Q})]}):I?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.E,{className:"h-12 w-full"}),(0,l.jsx)(d.E,{className:"h-12 w-full"}),(0,l.jsx)(d.E,{className:"h-12 w-full"})]}):0===x.length?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed p-8 text-center",children:[(0,l.jsx)(y.A,{className:"h-10 w-10 text-muted-foreground"}),(0,l.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"No view logs found"}),(0,l.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"No file view logs match your current filters."})]}):(0,l.jsx)("div",{className:"rounded-md border",children:(0,l.jsxs)(N.XI,{children:[(0,l.jsx)(N.A0,{children:(0,l.jsxs)(N.Hj,{children:[(0,l.jsx)(N.nd,{className:"w-[180px]",children:(0,l.jsxs)(o.$,{variant:"ghost",onClick:()=>ec("accessTime"),className:"flex items-center gap-1 px-0 font-medium",children:["Timestamp",(0,l.jsx)(k.A,{className:"h-3 w-3"})]})}),(0,l.jsx)(N.nd,{children:"File"}),(0,l.jsx)(N.nd,{children:"IP Address"}),(0,l.jsx)(N.nd,{className:"hidden md:table-cell",children:"Device Info"})]})}),(0,l.jsx)(N.BF,{children:x.map(e=>(0,l.jsxs)(N.Hj,{children:[(0,l.jsx)(N.nA,{className:"font-medium",children:(0,n.Yq)(e.accessTime)}),(0,l.jsx)(N.nA,{className:"max-w-[200px] truncate",children:(0,l.jsx)(_,{children:(0,l.jsxs)(U,{children:[(0,l.jsx)(R,{asChild:!0,children:(0,l.jsx)("span",{className:"cursor-help",children:e.fileName||"Unknown File"})}),(0,l.jsx)(L,{children:(0,l.jsx)("p",{children:e.fileName||"Unknown File"})})]})})}),(0,l.jsx)(N.nA,{children:e.ipAddress}),(0,l.jsx)(N.nA,{className:"hidden md:table-cell",children:(0,l.jsx)(_,{children:(0,l.jsxs)(U,{children:[(0,l.jsx)(R,{asChild:!0,children:(0,l.jsx)("span",{className:"cursor-help",children:em(e.userAgent)})}),(0,l.jsx)(L,{className:"max-w-xs",children:(0,l.jsx)("p",{className:"text-xs",children:e.userAgent})})]})})})]},e.logId))})]})})]}),(0,l.jsxs)(E.av,{value:"downloads",className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)(F.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,l.jsx)(c.p,{type:"search",placeholder:"Search logs...",className:"pl-8",value:V,onChange:e=>$(e.target.value)})]}),(0,l.jsxs)(v.l6,{value:z,onValueChange:O,children:[(0,l.jsx)(v.bq,{className:"w-[180px]",children:(0,l.jsx)(v.yv,{placeholder:"Filter by file"})}),(0,l.jsxs)(v.gC,{children:[(0,l.jsx)(v.eb,{value:"all",children:"All Files"}),h.map(e=>(0,l.jsx)(v.eb,{value:e.linkId,children:"Unnamed File"},e.linkId))]})]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,l.jsxs)(j,{children:[(0,l.jsx)(p,{asChild:!0,children:(0,l.jsxs)(o.$,{variant:"outline",className:"gap-2",children:[(0,l.jsx)(S.A,{className:"h-4 w-4"}),Z?(0,P.GP)(Z,"PPP"):"Start Date"]})}),(0,l.jsx)(g,{className:"w-auto p-0",children:(0,l.jsx)(u,{mode:"single",selected:Z,onSelect:H,initialFocus:!0})})]}),(0,l.jsxs)(j,{children:[(0,l.jsx)(p,{asChild:!0,children:(0,l.jsxs)(o.$,{variant:"outline",className:"gap-2",children:[(0,l.jsx)(S.A,{className:"h-4 w-4"}),G?(0,P.GP)(G,"PPP"):"End Date"]})}),(0,l.jsx)(g,{className:"w-auto p-0",children:(0,l.jsx)(u,{mode:"single",selected:G,onSelect:W,initialFocus:!0})})]}),(V||"all"!==z||Z||G)&&(0,l.jsx)(o.$,{variant:"ghost",onClick:ex,children:"Clear Filters"})]}),Q?(0,l.jsxs)(D.Fc,{variant:"destructive",children:[(0,l.jsx)(D.XL,{children:"Error"}),(0,l.jsx)(D.TN,{children:Q})]}):I?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d.E,{className:"h-12 w-full"}),(0,l.jsx)(d.E,{className:"h-12 w-full"}),(0,l.jsx)(d.E,{className:"h-12 w-full"})]}):0===x.length?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed p-8 text-center",children:[(0,l.jsx)(A.A,{className:"h-10 w-10 text-muted-foreground"}),(0,l.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"No download logs found"}),(0,l.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"No file download logs match your current filters."})]}):(0,l.jsx)("div",{className:"rounded-md border",children:(0,l.jsxs)(N.XI,{children:[(0,l.jsx)(N.A0,{children:(0,l.jsxs)(N.Hj,{children:[(0,l.jsx)(N.nd,{className:"w-[180px]",children:(0,l.jsxs)(o.$,{variant:"ghost",onClick:()=>ec("accessTime"),className:"flex items-center gap-1 px-0 font-medium",children:["Timestamp",(0,l.jsx)(k.A,{className:"h-3 w-3"})]})}),(0,l.jsx)(N.nd,{children:"File"}),(0,l.jsx)(N.nd,{children:"IP Address"}),(0,l.jsx)(N.nd,{className:"hidden md:table-cell",children:"Device Info"})]})}),(0,l.jsx)(N.BF,{children:x.map(e=>(0,l.jsxs)(N.Hj,{children:[(0,l.jsx)(N.nA,{className:"font-medium",children:(0,n.Yq)(e.accessTime)}),(0,l.jsx)(N.nA,{className:"max-w-[200px] truncate",children:(0,l.jsx)(_,{children:(0,l.jsxs)(U,{children:[(0,l.jsx)(R,{asChild:!0,children:(0,l.jsx)("span",{className:"cursor-help",children:e.fileName||"Unknown File"})}),(0,l.jsx)(L,{children:(0,l.jsx)("p",{children:e.fileName||"Unknown File"})})]})})}),(0,l.jsx)(N.nA,{children:e.ipAddress}),(0,l.jsx)(N.nA,{className:"hidden md:table-cell",children:(0,l.jsx)(_,{children:(0,l.jsxs)(U,{children:[(0,l.jsx)(R,{asChild:!0,children:(0,l.jsx)("span",{className:"cursor-help",children:em(e.userAgent)})}),(0,l.jsx)(L,{className:"max-w-xs",children:(0,l.jsx)("p",{className:"text-xs",children:e.userAgent})})]})})})]},e.logId))})]})})]})]})]})}L.displayName=I.UC.displayName},4964:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>n});var l=a(5155),r=a(2115),t=a(704),i=a(3999);let n=t.bL,d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)(t.B8,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});d.displayName=t.B8.displayName;let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)(t.l9,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});c.displayName=t.l9.displayName;let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)(t.UC,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});o.displayName=t.UC.displayName},6797:(e,s,a)=>{Promise.resolve().then(a.bind(a,1471))},8145:(e,s,a)=>{"use strict";a.d(s,{E:()=>n});var l=a(5155);a(2115);var r=a(2085),t=a(3999);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:a,...r}=e;return(0,l.jsx)("div",{className:(0,t.cn)(i({variant:a}),s),...r})}},8482:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>n,wL:()=>x});var l=a(5155),r=a(2115),t=a(3999);let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",a),...r})});n.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent";let x=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,t.cn)("flex items-center p-6 pt-0",a),...r})});x.displayName="CardFooter"},9026:(e,s,a)=>{"use strict";a.d(s,{Fc:()=>d,TN:()=>o,XL:()=>c});var l=a(5155),r=a(2115),t=a(2085),i=a(3999);let n=(0,t.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=r.forwardRef((e,s)=>{let{className:a,variant:r,...t}=e;return(0,l.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(n({variant:r}),a),...t})});d.displayName="Alert";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});c.displayName="AlertTitle";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...r})});o.displayName="AlertDescription"}},e=>{var s=s=>e(e.s=s);e.O(0,[455,239,756,109,474,192,536,441,684,358],()=>s(6797)),_N_E=e.O()}]);