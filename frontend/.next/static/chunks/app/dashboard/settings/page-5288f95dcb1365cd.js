(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{3627:(e,r,t)=>{Promise.resolve().then(t.bind(t,5119))},5119:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>D});var s=t(5155),a=t(2115),n=t(5594),l=t(2177),d=t(221),o=t(7168),i=t(9540),c=t(9852),u=t(8482),m=t(4503),f=t(3243),x=t(1886),p=t(4835),h=t(7649),g=t(3999);let j=h.bL,y=h.l9,w=h.ZL,b=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(h.hJ,{className:(0,g.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:r})});b.displayName=h.hJ.displayName;let v=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsxs)(w,{children:[(0,s.jsx)(b,{}),(0,s.jsx)(h.UC,{ref:r,className:(0,g.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]})});v.displayName=h.UC.displayName;let N=e=>{let{className:r,...t}=e;return(0,s.jsx)("div",{className:(0,g.cn)("flex flex-col space-y-2 text-center sm:text-left",r),...t})};N.displayName="AlertDialogHeader";let R=e=>{let{className:r,...t}=e;return(0,s.jsx)("div",{className:(0,g.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...t})};R.displayName="AlertDialogFooter";let C=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(h.hE,{ref:r,className:(0,g.cn)("text-lg font-semibold",t),...a})});C.displayName=h.hE.displayName;let P=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(h.VY,{ref:r,className:(0,g.cn)("text-sm text-muted-foreground",t),...a})});P.displayName=h.VY.displayName;let k=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(h.rc,{ref:r,className:(0,g.cn)((0,o.r)(),t),...a})});k.displayName=h.rc.displayName;let z=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(h.ZD,{ref:r,className:(0,g.cn)((0,o.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...a})});z.displayName=h.ZD.displayName;let B=n.z.object({email:n.z.string().email({message:"Please enter a valid email address"})}),T=n.z.object({currentPassword:n.z.string().min(1,{message:"Current password is required"}),newPassword:n.z.string().min(8,{message:"Password must be at least 8 characters"}),confirmPassword:n.z.string().min(8,{message:"Password must be at least 8 characters"})}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function D(){let{toast:e}=(0,m.dj)(),{user:r,logout:t}=(0,f.A)(),[n,h]=(0,a.useState)(!1),[g,w]=(0,a.useState)(!1),[b,D]=(0,a.useState)(!1),F=(0,l.mN)({resolver:(0,d.u)(B),defaultValues:{email:(null==r?void 0:r.email)||""}}),I=(0,l.mN)({resolver:(0,d.u)(T),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}});async function Z(r){h(!0);try{await (0,x.TK)({email:r.email}),e({title:"Profile updated",description:"Your profile has been updated successfully."})}catch(r){console.error("Error updating profile:",r),e({variant:"destructive",title:"Update failed",description:"There was a problem updating your profile."})}finally{h(!1)}}async function E(r){w(!0);try{await (0,x.TK)({password:r.newPassword}),e({title:"Password updated",description:"Your password has been updated successfully."}),I.reset({currentPassword:"",newPassword:"",confirmPassword:""})}catch(r){console.error("Error updating password:",r),e({variant:"destructive",title:"Update failed",description:"There was a problem updating your password."})}finally{w(!1)}}async function S(){D(!0);try{await (0,x.hG)(),e({title:"Account deleted",description:"Your account has been deleted successfully."}),t()}catch(r){console.error("Error deleting account:",r),e({variant:"destructive",title:"Deletion failed",description:"There was a problem deleting your account."})}finally{D(!1)}}return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage your account settings"})]}),(0,s.jsxs)(u.Zp,{children:[(0,s.jsxs)(u.aR,{children:[(0,s.jsx)(u.ZB,{children:"Profile"}),(0,s.jsx)(u.BT,{children:"Update your account information"})]}),(0,s.jsx)(u.Wu,{children:(0,s.jsx)(i.lV,{...F,children:(0,s.jsxs)("form",{onSubmit:F.handleSubmit(Z),className:"space-y-4",children:[(0,s.jsx)(i.zB,{control:F.control,name:"email",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"Email"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(c.p,{...r})}),(0,s.jsx)(i.Rr,{children:"This is the email address you use to log in."}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(o.$,{type:"submit",disabled:n,children:n?"Updating...":"Update profile"})]})})})]}),(0,s.jsxs)(u.Zp,{children:[(0,s.jsxs)(u.aR,{children:[(0,s.jsx)(u.ZB,{children:"Password"}),(0,s.jsx)(u.BT,{children:"Change your password"})]}),(0,s.jsx)(u.Wu,{children:(0,s.jsx)(i.lV,{...I,children:(0,s.jsxs)("form",{onSubmit:I.handleSubmit(E),className:"space-y-4",children:[(0,s.jsx)(i.zB,{control:I.control,name:"currentPassword",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"Current password"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(c.p,{type:"password",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:I.control,name:"newPassword",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"New password"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(c.p,{type:"password",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:I.control,name:"confirmPassword",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"Confirm password"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(c.p,{type:"password",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(o.$,{type:"submit",disabled:g,children:g?"Updating...":"Change password"})]})})})]}),(0,s.jsxs)(u.Zp,{children:[(0,s.jsxs)(u.aR,{children:[(0,s.jsx)(u.ZB,{children:"Delete Account"}),(0,s.jsx)(u.BT,{children:"Permanently delete your account and all your data"})]}),(0,s.jsx)(u.Wu,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Once you delete your account, there is no going back. This action cannot be undone."})}),(0,s.jsx)(u.wL,{children:(0,s.jsxs)(j,{children:[(0,s.jsx)(y,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"destructive",children:"Delete Account"})}),(0,s.jsxs)(v,{children:[(0,s.jsxs)(N,{children:[(0,s.jsx)(C,{children:"Are you absolutely sure?"}),(0,s.jsx)(P,{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."})]}),(0,s.jsxs)(R,{children:[(0,s.jsx)(z,{children:"Cancel"}),(0,s.jsx)(k,{onClick:S,disabled:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:b?"Deleting...":"Delete Account"})]})]})]})})]}),(0,s.jsxs)(u.Zp,{children:[(0,s.jsxs)(u.aR,{children:[(0,s.jsx)(u.ZB,{children:"Logout"}),(0,s.jsx)(u.BT,{children:"Sign out of your account"})]}),(0,s.jsx)(u.Wu,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Click the button below to log out of your account. You will need to log in again to access your files and links."})}),(0,s.jsx)(u.wL,{children:(0,s.jsxs)(o.$,{variant:"outline",onClick:t,className:"gap-2",children:[(0,s.jsx)(p.A,{className:"h-4 w-4"}),"Logout"]})})]})]})}},7168:(e,r,t)=>{"use strict";t.d(r,{$:()=>i,r:()=>o});var s=t(5155),a=t(2115),n=t(9708),l=t(2085),d=t(3999);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,r)=>{let{className:t,variant:a,size:l,asChild:i=!1,...c}=e,u=i?n.DX:"button";return(0,s.jsx)(u,{className:(0,d.cn)(o({variant:a,size:l,className:t})),ref:r,...c})});i.displayName="Button"},8482:(e,r,t)=>{"use strict";t.d(r,{BT:()=>i,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>d,wL:()=>u});var s=t(5155),a=t(2115),n=t(3999);let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});l.displayName="Card";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});d.displayName="CardHeader";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});o.displayName="CardTitle";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});i.displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},9540:(e,r,t)=>{"use strict";t.d(r,{lV:()=>u,MJ:()=>j,Rr:()=>y,zB:()=>f,eI:()=>h,lR:()=>g,C5:()=>w});var s=t(5155),a=t(2115),n=t(9708),l=t(2177),d=t(3999),o=t(968);let i=(0,t(2085).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(o.b,{ref:r,className:(0,d.cn)(i(),t),...a})});c.displayName=o.b.displayName;let u=l.Op,m=a.createContext({}),f=e=>{let{...r}=e;return(0,s.jsx)(m.Provider,{value:{name:r.name},children:(0,s.jsx)(l.xI,{...r})})},x=()=>{let e=a.useContext(m),r=a.useContext(p),{getFieldState:t,formState:s}=(0,l.xW)(),n=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:d}=r;return{id:d,name:e.name,formItemId:"".concat(d,"-form-item"),formDescriptionId:"".concat(d,"-form-item-description"),formMessageId:"".concat(d,"-form-item-message"),...n}},p=a.createContext({}),h=a.forwardRef((e,r)=>{let{className:t,...n}=e,l=a.useId();return(0,s.jsx)(p.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:r,className:(0,d.cn)("space-y-2",t),...n})})});h.displayName="FormItem";let g=a.forwardRef((e,r)=>{let{className:t,...a}=e,{error:n,formItemId:l}=x();return(0,s.jsx)(c,{ref:r,className:(0,d.cn)(n&&"text-destructive",t),htmlFor:l,...a})});g.displayName="FormLabel";let j=a.forwardRef((e,r)=>{let{...t}=e,{error:a,formItemId:l,formDescriptionId:d,formMessageId:o}=x();return(0,s.jsx)(n.DX,{ref:r,id:l,"aria-describedby":a?"".concat(d," ").concat(o):"".concat(d),"aria-invalid":!!a,...t})});j.displayName="FormControl";let y=a.forwardRef((e,r)=>{let{className:t,...a}=e,{formDescriptionId:n}=x();return(0,s.jsx)("p",{ref:r,id:n,className:(0,d.cn)("text-sm text-muted-foreground",t),...a})});y.displayName="FormDescription";let w=a.forwardRef((e,r)=>{let{className:t,children:a,...n}=e,{error:l,formMessageId:o}=x(),i=l?String(null==l?void 0:l.message):a;return i?(0,s.jsx)("p",{ref:r,id:o,className:(0,d.cn)("text-sm font-medium text-destructive",t),...n,children:i}):null});w.displayName="FormMessage"},9852:(e,r,t)=>{"use strict";t.d(r,{p:()=>l});var s=t(5155),a=t(2115),n=t(3999);let l=a.forwardRef((e,r)=>{let{className:t,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...l})});l.displayName="Input"}},e=>{var r=r=>e(e.s=r);e.O(0,[455,239,521,756,581,334,441,684,358],()=>r(3627)),_N_E=e.O()}]);