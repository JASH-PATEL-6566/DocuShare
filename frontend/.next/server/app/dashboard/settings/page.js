(()=>{var e={};e.id=631,e.ids=[631],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2781:(e,r,s)=>{Promise.resolve().then(s.bind(s,8144))},2925:(e,r,s)=>{"use strict";s.d(r,{lV:()=>u,MJ:()=>g,Rr:()=>y,zB:()=>m,eI:()=>h,lR:()=>j,C5:()=>w});var t=s(687),a=s(3210),o=s(8730),n=s(7605),d=s(6241),i=s(8148);let l=(0,s(4224).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)(i.b,{ref:s,className:(0,d.cn)(l(),e),...r}));c.displayName=i.b.displayName;let u=n.Op,p=a.createContext({}),m=({...e})=>(0,t.jsx)(p.Provider,{value:{name:e.name},children:(0,t.jsx)(n.xI,{...e})}),f=()=>{let e=a.useContext(p),r=a.useContext(x),{getFieldState:s,formState:t}=(0,n.xW)(),o=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:d}=r;return{id:d,name:e.name,formItemId:`${d}-form-item`,formDescriptionId:`${d}-form-item-description`,formMessageId:`${d}-form-item-message`,...o}},x=a.createContext({}),h=a.forwardRef(({className:e,...r},s)=>{let o=a.useId();return(0,t.jsx)(x.Provider,{value:{id:o},children:(0,t.jsx)("div",{ref:s,className:(0,d.cn)("space-y-2",e),...r})})});h.displayName="FormItem";let j=a.forwardRef(({className:e,...r},s)=>{let{error:a,formItemId:o}=f();return(0,t.jsx)(c,{ref:s,className:(0,d.cn)(a&&"text-destructive",e),htmlFor:o,...r})});j.displayName="FormLabel";let g=a.forwardRef(({...e},r)=>{let{error:s,formItemId:a,formDescriptionId:n,formMessageId:d}=f();return(0,t.jsx)(o.DX,{ref:r,id:a,"aria-describedby":s?`${n} ${d}`:`${n}`,"aria-invalid":!!s,...e})});g.displayName="FormControl";let y=a.forwardRef(({className:e,...r},s)=>{let{formDescriptionId:a}=f();return(0,t.jsx)("p",{ref:s,id:a,className:(0,d.cn)("text-sm text-muted-foreground",e),...r})});y.displayName="FormDescription";let w=a.forwardRef(({className:e,children:r,...s},a)=>{let{error:o,formMessageId:n}=f(),i=o?String(o?.message):r;return i?(0,t.jsx)("p",{ref:a,id:n,className:(0,d.cn)("text-sm font-medium text-destructive",e),...s,children:i}):null});w.displayName="FormMessage"},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3429:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var t=s(5239),a=s(8088),o=s(8170),n=s.n(o),d=s(893),i={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);s.d(r,i);let l={children:["",{children:["dashboard",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8144)),"/Users/jash/Desktop/Dal/Term2/Cloud/Project/frontend/app/dashboard/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3249)),"/Users/jash/Desktop/Dal/Term2/Cloud/Project/frontend/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"/Users/jash/Desktop/Dal/Term2/Cloud/Project/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/jash/Desktop/Dal/Term2/Cloud/Project/frontend/app/dashboard/settings/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/settings/page",pathname:"/dashboard/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3873:e=>{"use strict";e.exports=require("path")},5192:(e,r,s)=>{"use strict";s.d(r,{BT:()=>l,Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>d,wL:()=>u});var t=s(687),a=s(3210),o=s(6241);let n=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let d=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...r}));d.displayName="CardHeader";let i=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let l=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,o.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,o.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},5306:(e,r,s)=>{Promise.resolve().then(s.bind(s,7347))},7347:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>Q});var t=s(687),a=s(3210),o=s(5880),n=s(7605),d=s(3442),i=s(4934),l=s(2925),c=s(8988),u=s(5192),p=s(333),m=s(3270),f=s(9556),x=s(83),h=s(1273),j=s(8599),g=s(6134),y=s(569),w=s(8730),b="AlertDialog",[v,N]=(0,h.A)(b,[g.Hs]),P=(0,g.Hs)(),C=e=>{let{__scopeAlertDialog:r,...s}=e,a=P(r);return(0,t.jsx)(g.bL,{...a,...s,modal:!0})};C.displayName=b;var R=a.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...a}=e,o=P(s);return(0,t.jsx)(g.l9,{...o,...a,ref:r})});R.displayName="AlertDialogTrigger";var D=e=>{let{__scopeAlertDialog:r,...s}=e,a=P(r);return(0,t.jsx)(g.ZL,{...a,...s})};D.displayName="AlertDialogPortal";var A=a.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...a}=e,o=P(s);return(0,t.jsx)(g.hJ,{...o,...a,ref:r})});A.displayName="AlertDialogOverlay";var k="AlertDialogContent",[T,z]=v(k),I=(0,w.Dc)("AlertDialogContent"),B=a.forwardRef((e,r)=>{let{__scopeAlertDialog:s,children:o,...n}=e,d=P(s),i=a.useRef(null),l=(0,j.s)(r,i),c=a.useRef(null);return(0,t.jsx)(g.G$,{contentName:k,titleName:F,docsSlug:"alert-dialog",children:(0,t.jsx)(T,{scope:s,cancelRef:c,children:(0,t.jsxs)(g.UC,{role:"alertdialog",...d,...n,ref:l,onOpenAutoFocus:(0,y.m)(n.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(I,{children:o}),(0,t.jsx)(Z,{contentRef:i})]})})})});B.displayName=k;var F="AlertDialogTitle",$=a.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...a}=e,o=P(s);return(0,t.jsx)(g.hE,{...o,...a,ref:r})});$.displayName=F;var _="AlertDialogDescription",E=a.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...a}=e,o=P(s);return(0,t.jsx)(g.VY,{...o,...a,ref:r})});E.displayName=_;var U=a.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...a}=e,o=P(s);return(0,t.jsx)(g.bm,{...o,...a,ref:r})});U.displayName="AlertDialogAction";var S="AlertDialogCancel",M=a.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...a}=e,{cancelRef:o}=z(S,s),n=P(s),d=(0,j.s)(r,o);return(0,t.jsx)(g.bm,{...n,...a,ref:d})});M.displayName=S;var Z=({contentRef:e})=>{let r=`\`${k}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${k}\` by passing a \`${_}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${k}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return a.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},q=s(6241);let L=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)(A,{className:(0,q.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:s}));L.displayName=A.displayName;let O=a.forwardRef(({className:e,...r},s)=>(0,t.jsxs)(D,{children:[(0,t.jsx)(L,{}),(0,t.jsx)(B,{ref:s,className:(0,q.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r})]}));O.displayName=B.displayName;let G=({className:e,...r})=>(0,t.jsx)("div",{className:(0,q.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...r});G.displayName="AlertDialogHeader";let J=({className:e,...r})=>(0,t.jsx)("div",{className:(0,q.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});J.displayName="AlertDialogFooter";let V=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)($,{ref:s,className:(0,q.cn)("text-lg font-semibold",e),...r}));V.displayName=$.displayName;let W=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)(E,{ref:s,className:(0,q.cn)("text-sm text-muted-foreground",e),...r}));W.displayName=E.displayName;let Y=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)(U,{ref:s,className:(0,q.cn)((0,i.r)(),e),...r}));Y.displayName=U.displayName;let H=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)(M,{ref:s,className:(0,q.cn)((0,i.r)({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));H.displayName=M.displayName;let K=o.z.object({email:o.z.string().email({message:"Please enter a valid email address"})}),X=o.z.object({currentPassword:o.z.string().min(1,{message:"Current password is required"}),newPassword:o.z.string().min(8,{message:"Password must be at least 8 characters"}),confirmPassword:o.z.string().min(8,{message:"Password must be at least 8 characters"})}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Q(){let{toast:e}=(0,p.dj)(),{user:r,logout:s}=(0,m.A)(),[o,h]=(0,a.useState)(!1),[j,g]=(0,a.useState)(!1),[y,w]=(0,a.useState)(!1),b=(0,n.mN)({resolver:(0,d.u)(K),defaultValues:{email:r?.email||""}}),v=(0,n.mN)({resolver:(0,d.u)(X),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}});async function N(r){h(!0);try{await (0,f.TK)({email:r.email}),e({title:"Profile updated",description:"Your profile has been updated successfully."})}catch(r){console.error("Error updating profile:",r),e({variant:"destructive",title:"Update failed",description:"There was a problem updating your profile."})}finally{h(!1)}}async function P(r){g(!0);try{await (0,f.TK)({password:r.newPassword}),e({title:"Password updated",description:"Your password has been updated successfully."}),v.reset({currentPassword:"",newPassword:"",confirmPassword:""})}catch(r){console.error("Error updating password:",r),e({variant:"destructive",title:"Update failed",description:"There was a problem updating your password."})}finally{g(!1)}}async function D(){w(!0);try{await (0,f.hG)(),e({title:"Account deleted",description:"Your account has been deleted successfully."}),s()}catch(r){console.error("Error deleting account:",r),e({variant:"destructive",title:"Deletion failed",description:"There was a problem deleting your account."})}finally{w(!1)}}return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your account settings"})]}),(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Profile"}),(0,t.jsx)(u.BT,{children:"Update your account information"})]}),(0,t.jsx)(u.Wu,{children:(0,t.jsx)(l.lV,{...b,children:(0,t.jsxs)("form",{onSubmit:b.handleSubmit(N),className:"space-y-4",children:[(0,t.jsx)(l.zB,{control:b.control,name:"email",render:({field:e})=>(0,t.jsxs)(l.eI,{children:[(0,t.jsx)(l.lR,{children:"Email"}),(0,t.jsx)(l.MJ,{children:(0,t.jsx)(c.p,{...e})}),(0,t.jsx)(l.Rr,{children:"This is the email address you use to log in."}),(0,t.jsx)(l.C5,{})]})}),(0,t.jsx)(i.$,{type:"submit",disabled:o,children:o?"Updating...":"Update profile"})]})})})]}),(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Password"}),(0,t.jsx)(u.BT,{children:"Change your password"})]}),(0,t.jsx)(u.Wu,{children:(0,t.jsx)(l.lV,{...v,children:(0,t.jsxs)("form",{onSubmit:v.handleSubmit(P),className:"space-y-4",children:[(0,t.jsx)(l.zB,{control:v.control,name:"currentPassword",render:({field:e})=>(0,t.jsxs)(l.eI,{children:[(0,t.jsx)(l.lR,{children:"Current password"}),(0,t.jsx)(l.MJ,{children:(0,t.jsx)(c.p,{type:"password",...e})}),(0,t.jsx)(l.C5,{})]})}),(0,t.jsx)(l.zB,{control:v.control,name:"newPassword",render:({field:e})=>(0,t.jsxs)(l.eI,{children:[(0,t.jsx)(l.lR,{children:"New password"}),(0,t.jsx)(l.MJ,{children:(0,t.jsx)(c.p,{type:"password",...e})}),(0,t.jsx)(l.C5,{})]})}),(0,t.jsx)(l.zB,{control:v.control,name:"confirmPassword",render:({field:e})=>(0,t.jsxs)(l.eI,{children:[(0,t.jsx)(l.lR,{children:"Confirm password"}),(0,t.jsx)(l.MJ,{children:(0,t.jsx)(c.p,{type:"password",...e})}),(0,t.jsx)(l.C5,{})]})}),(0,t.jsx)(i.$,{type:"submit",disabled:j,children:j?"Updating...":"Change password"})]})})})]}),(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Delete Account"}),(0,t.jsx)(u.BT,{children:"Permanently delete your account and all your data"})]}),(0,t.jsx)(u.Wu,{children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Once you delete your account, there is no going back. This action cannot be undone."})}),(0,t.jsx)(u.wL,{children:(0,t.jsxs)(C,{children:[(0,t.jsx)(R,{asChild:!0,children:(0,t.jsx)(i.$,{variant:"destructive",children:"Delete Account"})}),(0,t.jsxs)(O,{children:[(0,t.jsxs)(G,{children:[(0,t.jsx)(V,{children:"Are you absolutely sure?"}),(0,t.jsx)(W,{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."})]}),(0,t.jsxs)(J,{children:[(0,t.jsx)(H,{children:"Cancel"}),(0,t.jsx)(Y,{onClick:D,disabled:y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:y?"Deleting...":"Delete Account"})]})]})]})})]}),(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Logout"}),(0,t.jsx)(u.BT,{children:"Sign out of your account"})]}),(0,t.jsx)(u.Wu,{children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Click the button below to log out of your account. You will need to log in again to access your files and links."})}),(0,t.jsx)(u.wL,{children:(0,t.jsxs)(i.$,{variant:"outline",onClick:s,className:"gap-2",children:[(0,t.jsx)(x.A,{className:"h-4 w-4"}),"Logout"]})})]})]})}},8144:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jash/Desktop/Dal/Term2/Cloud/Project/frontend/app/dashboard/settings/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jash/Desktop/Dal/Term2/Cloud/Project/frontend/app/dashboard/settings/page.tsx","default")},8988:(e,r,s)=>{"use strict";s.d(r,{p:()=>n});var t=s(687),a=s(3210),o=s(6241);let n=a.forwardRef(({className:e,type:r,...s},a)=>(0,t.jsx)("input",{type:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));n.displayName="Input"},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[10,814,405,539,914,173],()=>s(3429));module.exports=t})();